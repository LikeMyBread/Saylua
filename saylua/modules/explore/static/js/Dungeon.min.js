!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=new y["default"],t=new g["default"];e.fetch().then(function(){s["default"].render(_(c["default"],{model:e,miniMap:t}),document.getElementById("dungeon-client-mount")),s["default"].render(b(d["default"],{miniMap:t}),document.getElementById("dungeon-info-mount")),s["default"].render(w(h["default"],{regenerate:e._debug_regenerate(!0),reveal:e._debug_reveal(!0)}),document.getElementById("dungeon-debug-mount"))})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(1),a=r(i),l=n(3),s=r(l),u=n(5),c=r(u),f=n(10),d=r(f),p=n(11),h=r(p),m=n(12),y=r(m),v=n(14),g=r(v),_=a["default"].createBlueprint({tag:{arg:0},attrs:{arg:1}}),b=a["default"].createBlueprint({tag:{arg:0},attrs:{arg:1}}),w=a["default"].createBlueprint({tag:{arg:0},attrs:{arg:1}});o()},function(e,t,n){"use strict";e.exports=n(2)},function(e,t,n){var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
	 * inferno v0.7.27
	 * (c) 2016 Dominic Gannaway
	 * Released under the MIT License.
	 */
!function(a,l){"object"===i(t)&&"undefined"!=typeof e?e.exports=l():(r=l,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o)))}(void 0,function(){"use strict";function e(e){return r(e)||n(e)}function t(e){return"o"===e[0]&&"n"===e[1]&&e.length>3}function n(e){return null===e}function r(e){return void 0===e}function o(e){this.bp=e,this.dom=null,this.instance=null,this.tag=null,this.children=null,this.style=null,this.className=null,this.attrs=null,this.events=null,this.hooks=null,this.key=null,this.clipData=null}function i(e){return new o(e)}function a(e){return"o"===e[0]&&"n"===e[1]&&e.length>3}function l(e){return"onCreated"===e||"onAttached"===e||"onWillDetach"===e||"onWillUpdate"===e||"onDidUpdate"===e}function s(e){return"onComponentWillMount"===e||"onComponentDidMount"===e||"onComponentWillUnmount"===e||"onComponentShouldUpdate"===e||"onComponentWillUpdate"===e||"onComponentDidUpdate"===e}function u(t,n){var r=t.tag||null,i=!(!r||void 0===r.arg),u=e(t.children)?null:t.children,c=!(!u||void 0===u.arg),f=t.attrs||null,d=!(!f||void 0===f.arg),p=t.hooks||null,h=!(!p||void 0===p.arg),m=t.events||null,y=!(!m||void 0===m.arg),v=void 0===t.key?null:t.key,g=!e(v)&&!e(v.arg),_=t.style||null,b=!(!_||void 0===_.arg),w=void 0===t.className?null:t.className,x=!(!w||void 0===w.arg),k=void 0===t.spread?null:t.spread,S=void 0!==t.spread,j={lazy:t.lazy||!1,dom:null,pool:[],tag:i?null:r,className:""!==w&&w?w:null,style:""!==_&&_?_:null,isComponent:i,hasAttrs:d||!!f,hasHooks:h,hasEvents:y,hasStyle:b||!(""===_||!_),hasClassName:x||!(""===w||!w),childrenType:void 0===n?u?5:0:n,attrKeys:null,eventKeys:null,isSVG:t.isSVG||!1};return function(){var e=new o(j);if(i===!0&&(e.tag=arguments[r.arg]),c===!0&&(e.children=arguments[u.arg]),S){var t,n,C,O=arguments[k.arg],N=[],E=[];for(var A in O){var M=O[A];"className"===A||"class"===A&&!j.isSVG?(e.className=M,j.hasClassName=!0):"style"===A?(e.style=M,j.hasStyle=!0):"key"===A?e.key=M:l(A)||s(A)?(C||(C={}),C[A[2].toLowerCase()+A.substring(3)]=M):a(A)?(n||(n={}),E.push(A.toLowerCase()),n[A.toLowerCase()]=M):"children"===A?(e.children=M,j.childrenType=j.childrenType||5):(t||(t={}),N.push(A),t[A]=M)}t&&(e.attrs=t,j.attrKeys=N,j.hasAttrs=!0),n&&(e.events=n,j.eventKeys=E,j.hasEvents=!0),C&&(e.hooks=C,j.hasHooks=!0)}else d===!0?e.attrs=arguments[f.arg]:e.attrs=f,h===!0&&(e.hooks=arguments[p.arg]),y===!0&&(e.events=arguments[m.arg]),g===!0?e.key=arguments[v.arg]:e.key=v,b===!0?e.style=arguments[_.arg]:e.style=j.style,x===!0?e.className=arguments[w.arg]:e.className=j.className;return e}}function c(e){this.text=e,this.dom=null}function f(e){return new c(e)}function d(e,t){var n;return n=t===!0?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function p(e,t,n){if(m){var r=d(e,n);return t&&h(t,r),r}return null}function h(n,r){for(var o=Object.keys(n),i=0;i<o.length;i++){var a=o[i],l=n[a];"className"===a?r.className=l:l===!0?r.setAttribute(a,a):e(l)||l===!1||t(a)||r.setAttribute(a,l)}}var m="undefined"!=typeof window&&window.document;o.prototype={setAttrs:function(e){return this.attrs=e,this},setTag:function(e){return this.tag=e,this},setStyle:function(e){return this.style=e,this},setClassName:function(e){return this.className=e,this},setChildren:function(e){return this.children=e,this},setHooks:function(e){return this.hooks=e,this},setEvents:function(e){return this.events=e,this},setKey:function(e){return this.key=e,this}};var y={createBlueprint:u,createVNode:i,createVText:f,universal:{createElement:p}};return y})},function(e,t,n){"use strict";e.exports=n(4)},function(e,t,n){var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
	 * inferno-dom v0.7.27
	 * (c) 2016 Dominic Gannaway
	 * Released under the MIT License.
	 */
!function(a,l){"object"===i(t)&&"undefined"!=typeof e?e.exports=l():(r=l,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o)))}(void 0,function(){"use strict";function e(e,n){if(!o(e)){var r=t(e);(r&&e.length>0||!r)&&(n=n?Object.assign({},n,{children:e}):{children:e})}return n}function t(e){return e instanceof Array}function n(e){return e.prototype&&void 0!==e.prototype.render}function r(e){return s(e)||u(e)}function o(e){return d(e)||c(e)}function a(e){return c(e)||e===!1||e===!0||d(e)}function l(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return null===e}function f(e){return e===!0}function d(e){return void 0===e}function p(e,n){if(!a(e))if(t(e))for(var r=0;r<e.length;r++){var o=e[r];if(!a(o)){if(o===n)return!0;if(o.children)return p(o.children,n)}}else{if(e===n)return!0;if(e.children)return p(e.children,n)}return!1}function h(e,t){var n=t.props.children;return p(n,e)?h(e,t._parentComponent):t}function m(e,t,n,r,i){if(void 0!==t){var a=t.pool,l=a.pop();if(!o(l))return pe(l,e,null,n,r,i,t.isSVG),e.dom}return null}function y(e){var t=e.bp;return!o(t)&&(t.pool.push(e),!0)}function v(e,t){E(e)?g(e,t,!0):A(e)&&_(e,t,!1)}function g(e,t,n){var r=e.items,o=r.length,i=e.pointer;if(o>0)for(var a=0;a<o;a++){var l=r[a];E(l)?g(l,t,!0):(t&&L(t,l.dom),v(l,null))}t&&n&&L(t,i)}function _(e,n,r){var i=e.instance,a=null,l=null;o(i)||(a=i.hooks,l=i.children,void 0!==i.render&&(i.componentWillUnmount(),i._unmounted=!0,nt["delete"](i),!r&&v(i._lastNode,null)));var s=e.hooks||a;o(s)||(o(s.willDetach)||s.willDetach(e.dom),o(s.componentWillUnmount)||s.componentWillUnmount(e.dom,s));var u=(o(i)?e.children:null)||l;if(!o(u))if(t(u))for(var c=0;c<u.length;c++)v(u[c],null);else v(u,null)}function b(e){this.text=e,this.dom=null}function w(){this.placeholder=!0,this.dom=null}function x(e){this.dom=null,this.pointer=null,this.items=e}function k(e){return new b(e)}function S(){return new w}function j(e){return new x(e)}function C(e,t,n){e.split(",").forEach(function(e){return t[e]=n})}function O(e){return void 0!==e.text}function N(e){return e.placeholder===!0}function E(e){return void 0!==e.items}function A(e){return void 0!==e.tag||void 0!==e.bp}function M(e,t,n){o(n)?e.appendChild(t):e.insertBefore(t,n)}function T(e,t,n){var r=t.pointer;g(t,e,!1),H(e,n,r)}function D(e,t){var n;return n=t===!0?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function q(e,t,n){if(null===t)return document.createTextNode(e);if(n){if(""!==e)return t.textContent=e,t.firstChild;var r=document.createTextNode("");return t.appendChild(r),r}var o=document.createTextNode(e);return t.appendChild(o),o}function R(e,t,n,r,i,a,l){var s=null,u=e._lastNode;o(u)||(s=e,e=u),v(e,!1);var c=J(t,null,r,i,a,l);t.dom=c,H(n,c,e.dom),null!==s&&(s._lastNode=t)}function H(e,t,n){e.replaceChild(t,n)}function P(e){return r(e)?k(e):a(e)?S():t(e)?j(e):e}function U(e,t){var n=e[t];return e[t]=P(n)}function W(e,t){if(E(e))return v(e,t);var n=e.dom;n===t?n.innerHTML="":(L(t,n),Be&&y(e)),v(e,!1)}function L(e,t){e.removeChild(t)}function I(e,t,n){for(var r=t||Object.keys(e),o=0;o<r.length;o++){var i=r[o];n[i]=null}}function B(){return document.activeElement}function F(e,t){if(Be){var n=t.length;if(n>5)for(var r=0;r<n;r++){var o=t[r];a(o)||y(o)}}e.textContent=""}function z(e){null!==e&&e!==document.body&&document.activeElement!==e&&e.focus()}function V(e,t){return!e.complex&&(t.length&&!o(t[0])&&!o(t[0].key)&&e.length&&!o(e[0])&&!o(e[0].key))}function X(e,t){if("option"===e.tag){var n=e.attrs&&e.attrs.value;t[n]?(e.attrs=e.attrs||{},e.attrs.selected="selected",e.dom.selected=!0):e.dom.selected=!1}else for(var r=0,o=e.children.length;r<o;r++)X(e.children[r],t)}function G(e){var n=e.attrs&&e.attrs.value,r={};if(t(n))for(var o=0,i=n.length;o<i;o++)r[n[o]]=n[o];else r[n]=n;for(var a=0,l=e.children.length;a<l;a++)X(e.children[a],r);e.attrs&&e.attrs[n]&&delete e.attrs.value}function K(e,t,n){o(e.created)||e.created(n),o(e.attached)||t.addListener(function(){e.attached(n)})}function Y(e){var t=e.attrs.value;o(t)||(e.dom.value=t)}function $(e,t){if("input"===e&&t.attrs){var n=t.attrs.type;if("text"===n)Y(t);else if("checkbox"===n||"radio"===n){var r=t.attrs.checked;t.dom.checked=!!r}}else"textarea"===e&&Y(t)}function J(e,t,n,r,o,a){if(N(e))return te(e,t);if(O(e))return ee(e,t);if(E(e))return Z(e,t,n,r,o,a);if(A(e))return Q(e,t,n,r,o,a);var l=P(e);if(e!==l)return J(l,t,n,r,o,a);throw new Error('Inferno Error: invalid object "'+("undefined"==typeof e?"undefined":i(e))+'" passed to mount()')}function Q(e,t,n,r,o,i){var a=e.bp;if(d(a))return ae(e,t,n,r,o,i);if(Be){var l=m(e,a,n,r,o);if(!c(l))return c(t)||t.appendChild(l),l}return ie(e,a,t,n,r,o)}function Z(e,t,n,r,o,i){var a=e.items,l=document.createTextNode(""),s=document.createDocumentFragment();return le(a,s,n,r,o,i),e.pointer=l,e.dom=s,s.appendChild(l),t&&M(t,s),s}function ee(e,t){var n=document.createTextNode(e.text);return e.dom=n,t&&M(t,n),n}function te(e,t){var n=document.createTextNode("");return e.dom=n,t&&M(t,n),n}function ne(e){"select"===e.tag&&G(e)}function re(e,t,n,r){ne(e);var o=e.attrs;if(c(t.attrKeys)){var i=Object.keys(o);t.attrKeys=t.attrKeys?t.attrKeys.concat(i):i}var a=t.attrKeys;de(e,o,a,n,r)}function oe(e,t,n){var r=e.events;c(t.eventKeys)&&(t.eventKeys=Object.keys(r));var o=t.eventKeys;ce(r,o,n)}function ie(e,t,n,r,o,i){var a=e.tag;if(f(t.isComponent))return fe(e,a,e.attrs||{},e.hooks,e.children,i,n,r,o);var l=D(t.tag,t.isSVG);e.dom=l,f(t.hasHooks)&&K(e.hooks,r,l),f(t.lazy)&&Te(e,r,l);var s=e.children;switch(t.childrenType){case 1:q(s,l,!0);break;case 2:J(e.children,l,r,o,i,t.isSVG);break;case 3:le(s,l,r,o,i,t.isSVG);break;case 4:for(var u=0;u<s.length;u++)J(s[u],l,r,o,i,t.isSVG);break;case 5:se(e,s,l,r,o,i,t.isSVG)}return f(t.hasAttrs)&&re(e,t,l,i),f(t.hasClassName)&&(l.className=e.className),f(t.hasStyle)&&we(null,e.style,l),f(t.hasEvents)&&oe(e,t,l),c(n)||n.appendChild(l),l}function ae(e,t,n,r,i,u){var f=e.tag;if(l(f))return fe(e,f,e.attrs||{},e.hooks,e.children,i,t,n,r);if(!s(f)||""===f)throw Error("Inferno Error: Expected function or string for element tag type");"svg"===f&&(u=!0);var d=D(f,u),p=e.children,h=e.attrs,m=e.events,y=e.hooks,v=e.className,g=e.style;return e.dom=d,o(y)||K(y,n,d),a(p)||se(e,p,d,n,r,i,u),o(h)||(ne(e),de(e,h,Object.keys(h),d,i)),o(v)||(d.className=v),o(g)||we(null,g,d),o(m)||ce(m,Object.keys(m),d),c(t)||t.appendChild(d),d}function le(e,t,n,r,o,i){e.complex=!1;for(var a=0;a<e.length;a++){var l=U(e,a);O(l)?(ee(l,t),e.complex=!0):N(l)?(te(l,t),e.complex=!0):E(l)?(Z(l,t,n,r,o,i),e.complex=!0):J(l,t,n,r,o,i)}}function se(e,n,o,i,l,s,u){t(n)?le(n,o,i,l,s,u):r(n)?q(n,o,!0):a(n)||J(n,o,i,l,s,u)}function ue(e,t,n){!a(e)&&s(t)&&(e.refs[t]=n)}function ce(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];n[o]=e[o]}}function fe(t,r,i,l,s,u,c,f,d){i=e(s,i);var p;if(n(r)){var h=new r(i,d);h._patch=pe,h._componentToDOMNodeMap=nt,!o(u)&&i.ref&&ue(u,i.ref,h);var m=h.getChildContext();o(m)||(d=Object.assign({},d,m)),h.context=d,h._unmounted=!1,h._parentNode=t,u&&(h._parentComponent=u),h._pendingSetState=!0,h.componentWillMount();var y=h.render();a(y)&&(y=S()),h._pendingSetState=!1,p=J(y,null,f,d,h,!1),h._lastNode=y,h.componentDidMount(),null===c||a(p)||c.appendChild(p),nt.set(h,p),t.dom=p,t.instance=h}else{o(l)||(o(l.componentWillMount)||l.componentWillMount(null,i),o(l.componentDidMount)||f.addListener(function(){l.componentDidMount(p,i)}));var v=r(i,d);a(v)&&(v=S()),p=J(v,null,f,d,null,!1),t.instance=v,null===c||a(p)||c.appendChild(p),t.dom=p}return p}function de(e,t,n,r,o){for(var i=0;i<n.length;i++){var a=n[i];"ref"===a?ue(h(e,o),t[a],r):ke(a,null,t[a],r)}}function pe(e,t,n,o,i,l,s){if(e!==t)if(a(e))J(t,n,o,i,l,s);else if(a(t))W(e,n);else if(r(e))if(r(t))n.firstChild.nodeValue=t;else{var u=J(t,null,o,i,l,s);t.dom=u,H(n,u,n.firstChild)}else if(r(t))H(n,document.createTextNode(t),e.dom);else if(E(t))E(e)?je(e,t,n,o,i,l,s):(H(n,Z(t,null,o,i,l,s),e.dom),v(e,null));else if(E(e))T(n,e,J(t,null,o,i,l,s));else if(N(t))N(e)?Oe(e,t):(H(n,te(t,null),e.dom),v(e,null));else if(N(e))H(n,J(t,null,o,i,l,s),e.dom);else if(O(t))O(e)?Ne(e,t):(H(n,ee(t,null),e.dom),v(e,null));else if(O(e))H(n,J(t,null,o,i,l,s),e.dom);else if(A(t))A(e)?ve(e,t,n,o,i,l,s,!1):(H(n,mountVNode(t,null,o,i,l,s),e.dom),v(e,null));else{if(!A(e))return pe(e,P(t),n,o,i,l,s);H(n,J(t,null,o,i,l,s),e.dom),v(e,null)}return t}function he(e,t,n){r(t)&&""!==t?e.firstChild.nodeValue=n:e.textContent=n}function me(e,t,n,r){e&&(s(t)&&delete e.refs[t],s(n)&&(e.refs[n]=r))}function ye(e,n,o,i,l,s,u){var c=n.children,f=e.children;if(f!==c)if(a(f))r(c)?he(o,f,c):a(c)||(t(c)?le(c,o,i,l,s,u):J(c,o,i,l,s,u));else if(a(c))F(o,f);else if(t(f))t(c)?(c.complex=f.complex,V(f,c)?Ee(f,c,o,i,l,s,u,null):Ce(f,c,o,i,l,s,u,null)):Ce(f,[c],o,i,l,s,u,null);else if(t(c)){var d=f;r(f)&&(d=k(d),d.dom=o.firstChild),Ce([d],c,o,i,l,s,u,null)}else r(c)?he(o,f,c):r(f)?pe(f,c,o,i,l,s,u):ve(f,c,o,i,l,s,u,!1)}function ve(e,t,n,r,o,i,a,l){var s=e.bp,u=t.bp;void 0===s||void 0===u?_e(e,t,n,r,o,i,a):ge(e,t,s,u,n,r,o,i,l)}function ge(e,t,r,i,l,s,u,c,f){var d;i.hasHooks===!0&&(d=t.hooks,d&&!o(d.willUpdate)&&d.willUpdate(e.dom));var p=t.tag||i.tag,h=e.tag||r.tag;if(h!==p)if(r&&r.isComponent===!0){var m=e.instance;if(i.isComponent===!0)R(e,t,l,s,u,c,!1);else if(n(h)){_(e,null,!0);var y=m._lastNode;ge(y,t,y.bp,i,l,s,u,c,i.isSVG)}else _(e,null,!0),ge(m,t,m.bp,i,l,s,u,c,i.isSVG)}else R(e,t,l,s,u,c,i.isSVG);else if(o(h))t.dom=e.dom;else if(r&&r.isComponent===!0){if(i.isComponent===!0){var v=e.instance;if(!o(v)&&v._unmounted){var g=fe(t,h,t.attrs||{},t.hooks,t.children,v,l,s,u);null!==l&&H(l,g,e.dom)}else t.instance=v,t.dom=e.dom,Se(!0,t,t.tag,r,i,v,e.attrs||{},t.attrs||{},t.hooks,e.children,t.children,l,s,u)}}else{var b=e.dom,w=r.childrenType,x=i.childrenType;if(t.dom=b,i.lazy===!0&&f===!1){var k=e.clipData;if(null===s.scrollY&&s.refresh(),t.clipData=k,(k.pending===!0||k.top-s.scrollY>s.screenHeight)&&setClipNode(k,b,e,t,l,s,u,c,r.isSVG))return;if(k.bottom<s.scrollY&&setClipNode(k,b,e,t,l,s,u,c,r.isSVG))return}if(w>0||x>0)if(5===x||5===w)ye(e,t,b,s,u,c);else{var S=e.children,j=t.children;0===w||a(S)?x>2?le(j,b,s,u,c):J(j,b,s,u,c):0===x||a(j)?w>2?F(b,S):W(S,b):S!==j&&(4===w&&4===x?Ee(S,j,b,s,u,c,i.isSVG,null):2===w&&2===x?pe(S,j,b,s,u,c,!0,i.isSVG):1===w&&1===x?he(b,S,j):ye(e,t,b,s,u,c,i.isSVG))}if(r.hasAttrs!==!0&&i.hasAttrs!==!0||be(e,t,r.attrKeys,i.attrKeys,b,c),r.hasEvents!==!0&&i.hasEvents!==!0||xe(e.events,t.events,r.eventKeys,i.eventKeys,b),r.hasClassName===!0||i.hasClassName===!0){var C=t.className;e.className!==C&&(o(C)?b.removeAttribute("class"):b.className=C)}if(r.hasStyle===!0||i.hasStyle===!0){var O=t.style,N=e.style;N!==O&&we(N,O,b)}i.hasHooks!==!0||o(d.didUpdate)||d.didUpdate(b),$(p,t)}}function _e(e,t,r,i,a,s,u){var c=t.hooks,f=!o(c);f&&!o(c.willUpdate)&&c.willUpdate(e.dom);var d=t.tag||(o(t.bp)?null:t.bp.tag),p=e.tag||(o(e.bp)?null:e.bp.tag);if("svg"===d&&(u=!0),p!==d){var h=e.instance;l(p)?l(d)?R(e,t,r,i,a,s,u):n(p)?(_(e,null,!0),_e(h._lastNode,t,r,i,a,s,u)):(_(e,null,!0),_e(h,t,r,i,a,s,u)):R(h||e,t,r,i,a,s,u)}else if(o(p))t.dom=e.dom;else if(l(p)){if(l(d)){var m=e._instance;if(!o(m)&&m._unmounted){var y=fe(t,p,t.attrs||{},t.hooks,t.children,m,r,i,a);null!==r&&H(r,y,e.dom)}else t.instance=e.instance,t.dom=e.dom,Se(!1,t,t.tag,null,null,t.instance,e.attrs||{},t.attrs||{},t.hooks,e.children,t.children,r,i,a)}}else{var v=e.dom,g=t.className,b=t.style;t.dom=v,ye(e,t,v,i,a,s,u),be(e,t,null,null,v,s),xe(e.events,t.events,null,null,v),e.className!==g&&(o(g)?v.removeAttribute("class"):v.className=g),e.style!==b&&we(e.style,b,v),f&&!o(c.didUpdate)&&c.didUpdate(v),$(d,t)}}function be(e,t,n,r,i,a){"select"===e.tag&&G(t);var l=t.attrs,s=e.attrs,u=o(l),c=!o(s);if(!u)for(var f=r||Object.keys(l),d=f.length,p=0;p<d;p++){var h=f[p],m=c&&s[h],y=l[h];m!==y&&("ref"===h?me(a,m,y,i):ke(h,m,y,i))}if(c)for(var v=n||Object.keys(s),g=v.length,_=0;_<g;_++){var b=v[_];(u||o(l[b]))&&("ref"===b?me(getRefInstance(node,a),s[b],null,i):i.removeAttribute(b))}}function we(e,t,n){if(s(t))n.style.cssText=t;else if(o(e)){if(!o(t))for(var r=Object.keys(t),i=0;i<r.length;i++){var a=r[i],l=t[a];u(l)&&!Ke[a]?n.style[a]=l+"px":n.style[a]=l}}else if(o(t))n.removeAttribute("style");else{for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f],p=t[d];u(p)&&!Ke[d]?n.style[d]=p+"px":n.style[d]=p}for(var h=Object.keys(e),m=0;m<h.length;m++){var y=h[m];o(t[y])&&(n.style[y]="")}}}function xe(e,t,n,r,i){var a,l=!o(t),s=!o(e);if(s&&(a=n||Object.keys(e)),l){var u=r||Object.keys(t);if(s){for(var c=0;c<u.length;c++){var f=u[c],d=e[f],p=t[f];d!==p&&(i[f]=p)}for(var h=0;h<a.length;h++){var m=a[h];o(t[m])&&(i[m]=null)}}else ce(t,u,i)}else s&&I(e,a,i)}function ke(e,t,n,r){if("dangerouslySetInnerHTML"===e){var i=t&&t.__html,a=n&&n.__html;if(o(a))throw new Error("Inferno Error: dangerouslySetInnerHTML requires an object with a __html propety containing the innerHTML content");i!==a&&(r.innerHTML=a)}else if("eventData"===e)r.eventData=n;else if(Ve[e])r[e]=null===n?"":n;else if(Xe[e])r[e]=!!n;else{var l=Ge[e];n===!1||o(n)?void 0!==l?r.removeAttributeNS(l,e):r.removeAttribute(e):void 0!==l?r.setAttributeNS(l,e,n===!0?e:n):r.setAttribute(e,n===!0?e:n)}}function Se(t,r,i,l,s,u,c,f,d,p,h,m,y,v){if(f=e(h,f),n(i)){var g=u.props,_=u.state,b=u.state,w=u.getChildContext();o(w)||(v=Object.assign({},v,w)),u.context=v;var x=u._updateComponent(_,b,g,f);x===Le?x=u._lastNode:o(x)&&(x=S()),pe(u._lastNode,x,m,y,v,u,null,!1),r.dom=x.dom,u._lastNode=x,u.componentDidUpdate(g,_),nt.set(u,x.dom)}else{var k=!0,j=t&&s.hasHooks===!0||!o(d);if(c=e(p,c),j&&!o(d.componentShouldUpdate)&&(k=d.componentShouldUpdate(r.dom,c,f)),k!==!1){j&&!o(d.componentWillUpdate)&&d.componentWillUpdate(r.dom,c,f);var C=i(f,v);a(C)&&(C=S()),C.dom=r.dom,pe(u,C,m,y,v,null,null,!1),r.instance=C,j&&!o(d.componentDidUpdate)&&d.componentDidUpdate(r.dom,c,f)}}}function je(e,t,n,r,o,i,a){var l=e.items,s=t.items,u=e.pointer;t.dom=e.dom,t.pointer=u,!l!==s&&(V(l,s)?Ee(l,s,n,r,o,i,a,t):Ce(l,s,n,r,o,i,a,t))}function Ce(e,t,n,r,o,i,a,l){for(var s=e.length,u=t.length,c=s>u?u:s,f=0;f<c;f++){var d=e[f],p=U(t,f);pe(d,p,n,r,o,i,a)}if(s<u)for(f=c;f<u;f++){var h=U(t,f);M(n,J(h,null,r,o,i,a),l&&l.pointer)}else if(s>u)for(f=c;f<s;f++)W(e[f],n)}function Oe(e,t){t.dom=e.dom}function Ne(e,t){var n=t.text,r=e.dom;t.dom=r,e.text!==n&&(r.nodeValue=n)}function Ee(e,t,n,r,o,i,a,l){for(var s,u=e.length,c=t.length,f=u-1,d=c-1,p=0,h=0,m=null,y=null,v=null,g=null;p<=f&&h<=d&&(y=t[h],m=e[p],y.key===m.key);)ve(m,y,n,r,o,i,a,!1),h++,p++;for(;p<=f&&h<=d&&(v=t[d],g=e[f],v.key===g.key);)ve(g,v,n,r,o,i,a,!1),d--,f--;for(;p<=f&&h<=d&&(v=t[d],m=e[p],v.key===m.key);)s=d+1<c?t[d+1].dom:null,ve(m,v,n,r,o,i,a,!1),M(n,v.dom,s),d--,p++;for(;p<=f&&h<=d&&(y=t[h],g=e[f],y.key===g.key);)s=e[p].dom,ve(g,y,n,r,o,i,a,!1),M(n,y.dom,s),h++,f--;if(p>f){if(h<=d)for(s=d+1<c?t[d+1].dom:l&&l.pointer;h<=d;h++)M(n,J(t[h],null,r,o,i,a),s)}else if(h>d)for(;p<=f;)W(e[p++],n);else{var _,b=f-p+1,w=d-h+1,x=new Array(w);for(_=0;_<w;_++)x[_]=-1;var k,S=!1,j=0,C=0,O=!0,N=0;if(w<=4||b*w<=16)for(_=p;_<=f;_++){if(O=!0,g=e[_],N<w)for(k=h;k<=d;k++)if(v=t[k],g.key===v.key){x[k-h]=_,C>k?S=!0:C=k,ve(g,v,n,r,o,i,a,!1),N++,O=!1;break}O&&(W(g,n),j++)}else{var E=new Map;for(_=h;_<=d;_++)E.set(t[_].key,_);for(_=p;_<=f;_++)O=!0,g=e[_],N<c&&(k=E.get(g.key),void 0!==k&&(v=t[k],x[k-h]=_,C>k?S=!0:C=k,ve(g,v,n,r,o,i,a,!1),N++,O=!1)),O&&(W(g,n),j++)}var A;if(S){var T=Ae(x);for(k=T.length-1,_=w-1;_>=0;_--)x[_]===-1?(A=_+h,s=A+1<c?t[A+1].dom:l&&l.pointer,M(n,J(t[A],null,r,o,i,a),s)):k<0||_!==T[k]?(A=_+h,s=A+1<c?t[A+1].dom:l&&l.pointer,M(n,t[A].dom,s)):k--}else if(b-j!==w)for(_=w-1;_>=0;_--)x[_]===-1&&(A=_+h,s=A+1<c?t[A+1].dom:l&&l.pointer,M(n,J(t[A],null,r,o,i,a),s))}}function Ae(e){var t=e.slice(0),n=[];n.push(0);var r,o,i,a,l;for(r=0;r<e.length;r++)if(e[r]!==-1)if(o=n[n.length-1],e[o]<e[r])t[r]=o,n.push(r);else{for(i=0,a=n.length-1;i<a;)l=(i+a)/2|0,e[n[l]]<e[r]?i=l+1:a=l;e[r]<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function Me(){this._listeners=[],this.scrollX=null,this.scrollY=null,this.screenHeight=$e,this.screenWidth=Ye}function Te(e,t,n){t.addListener(function(){var r=n.getBoundingClientRect();null===t.scrollY&&t.refresh(),e.clipData={top:r.top+t.scrollY,left:r.left+t.scrollX,bottom:r.bottom+t.scrollY,right:r.right+t.scrollX,pending:!1}})}function De(e,t,n,r,o,i,a){var l=t[n.i];if(O(e)){var s=e.text;if(e.dom=l,3===l.nodeType&&""!==s)l.nodeValue=s;else{var u=ee(s);H(r,u,l),t.splice(t.indexOf(l),1,u),e.dom=u}}else if(N(e))e.dom=l;else if(E(e)){var c=e.items;e.dom=document.createDocumentFragment();for(var f=0;f<c.length;f++){var d=De(U(c,f),t,n,r,o,i,a);if(d)return!0}var p=t[n.i++];if(!p||3!==p.nodeType)return!0;e.pointer=p}else{var h=He(e,l,r,o,i,a,!1);if(h)return!0}n.i++}function qe(e){for(var t=[],n=e.childNodes,r=n.length,o=0;o<r;){var i=n[o];if(8===i.nodeType)if("!"===i.data){var a=document.createTextNode("");e.replaceChild(a,i),t.push(a),o++}else e.removeChild(i),r--;else t.push(i),o++}return t}function Re(t,r,i,l,s,u,c,f,d,p,h){if(i=e(s,i),!n(r)){var m=t.instance=r(i);return o(l)||(o(l.componentWillMount)||l.componentWillMount(null,i),o(l.componentDidMount)||f.addListener(function(){l.componentDidMount(u,i)})),He(m,u,c,f,d,m,h)}var y=t.instance=new r(i);y._patch=pe,!o(p)&&i.ref&&ue(p,i.ref,y);var v=y.getChildContext();o(v)||(d=Object.assign({},d,v)),y.context=d,y._unmounted=!1,y._parentNode=t,p&&(y._parentComponent=p),y._pendingSetState=!0,y.componentWillMount();var g=y.render();y._pendingSetState=!1,a(g)&&(g=S()),He(g,u,c,f,d,y,h),y._lastNode=g,y.componentDidMount()}function He(e,n,i,a,s,u,c){var f=e.bp,d=e.tag||f.tag;if(l(d))e.dom=n,Re(e,d,e.attrs||{},e.hooks,e.children,n,i,a,s,u,c);else if(1!==n.nodeType||d!==n.tagName.toLowerCase());else{e.dom=n;var p=e.hooks;(f&&f.hasHooks===!0||!o(p))&&K(p,a,n);var h=e.children;if(!o(h))if(r(h))n.textContent!==h&&(n.textContent=h);else{var m=qe(n),y={i:0},v=!1;if(t(h))for(var g=0;g<h.length&&!(v=De(U(h,g),m,y,n,a,s,u));g++);else v=1!==m.length||De(h,m,y,n,a,s,u)}var _=e.className,b=e.style;if(o(_)||(n.className=_),o(b)||we(null,b,n),f&&f.hasAttrs===!0)re(e,f,n,u);else{var w=e.attrs;o(w)||(ne(e),de(e,w,Object.keys(w),n,u))}if(f&&f.hasEvents===!0)oe(e,f,n);else{var x=e.events;o(x)||ce(x,Object.keys(x),n)}}}function Pe(e,t,n){if(t&&1===t.nodeType){var r=t.querySelector("[data-infernoroot]");if(r&&r.parentNode===t)return He(e,r,t,n,{},!0),!0}return t!==et?t.textContent="":console.warn('Inferno Warning: rendering to the "document.body" is dangerous! Use a dedicated container element instead.'),!1}function Ue(e){return nt.get(e)||null}function We(e,t){var n=tt.get(t),r=new Me;if(d(n))a(e)||(Pe(e,t,r)||J(e,t,r,{},null,!1),r.trigger(),tt.set(t,{input:e}));else{var o=B(),i=pe(n.input,e,t,r,{},null,!1);r.trigger(),c(e)&&tt["delete"](t),n.input=i,z(o)}}var Le="NO_RENDER",Ie="undefined"!=typeof window&&window.document,Be=!0,Fe="http://www.w3.org/1999/xlink",ze="http://www.w3.org/XML/1998/namespace",Ve={},Xe={},Ge={},Ke={};C("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",Ge,Fe),C("xml:base,xml:lang,xml:space",Ge,ze),C("volume,value",Ve,!0),C("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",Xe,!0),C("animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,",Ke,!0);var Ye=Ie&&window.screen.width,$e=Ie&&window.screen.height,Je=0,Qe=0,Ze=0;Ie&&(window.onscroll=function(){Je=window.scrollX,Qe=window.scrollY,Ze=performance.now()},window.resize=function(){Je=window.scrollX,Qe=window.scrollY,Ye=window.screen.width,$e=window.screen.height,Ze=performance.now()}),Me.prototype={refresh:function(){this.scrollX=Ie&&window.scrollX,this.scrollY=Ie&&window.scrollY},addListener:function(e){this._listeners.push(e)},trigger:function(){for(var e=this,t=0;t<this._listeners.length;t++)e._listeners[t]()}};var et=Ie?document.body:null,tt=new Map,nt=new Map,rt={render:We,findDOMNode:Ue,mount:J,patch:pe,unmount:v};return rt})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(6),d=r(f),p=n(8),h=r(p),m=c["default"].createBlueprint({tag:"span",className:{arg:0},children:{arg:1}}),y=c["default"].createBlueprint({tag:"span",className:{arg:0},children:{arg:1}}),v=c["default"].createBlueprint({tag:"div",className:{arg:0},children:{arg:1}}),g=c["default"].createBlueprint({tag:"div",className:{arg:0},children:{arg:1}}),_=c["default"].createBlueprint({tag:"span",className:{arg:0}}),b=c["default"].createBlueprint({tag:"div",className:"dungeon-map",children:{arg:0}}),w=c["default"].createBlueprint({tag:"div",className:"dungeon-wrapper",children:{arg:0}}),x=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={domLoaded:!0},n}return a(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.model.bindComponent(this),this.eventListener=window.addEventListener("keydown",this.handleKeyPress.bind(this))}},{key:"handleKeyPress",value:function(e){var t=e.keyCode,n="move",r=void 0;switch(t){case 38:case 87:r="up";break;case 40:case 83:r="down";break;case 37:case 65:r="left";break;case 39:case 68:r="right";break;default:return}e.preventDefault(),this.props.model.mutate({action:n,data:r})}},{key:"getMap",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8,i=[],a=!0,l=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value,d=_("entity entity-"+f.parent),p=f.location.x,b=f.location.y;i[b]=i[b]||[],i[b][p]=i[b][p]||[],i[b][p].push(d)}}catch(w){l=!0,s=w}finally{try{!a&&c["return"]&&c["return"]()}finally{if(l)throw s}}var x=[],k=t[0],S=k.location.x,j=k.location.y,C=e.length,O=e[0].length,N=void 0,E=void 0,A=void 0;A=2*o,N=Math.max(S-o,0),A-=S-N,E=Math.min(S+A,O-1),A-=E-S,N=E===O-1?N-A:N+A;var M=void 0,T=void 0,D=void 0;D=2*o,M=Math.max(j-o,0),D-=j-M,T=Math.min(j+D,C-1),D-=T-j,M=T===C-1?M-D:M+D;var q=e.map(function(e,t){var n=[],r=M<=t&&t<=T,o=e.map(function(e,o){var a=!1,l=Object.keys(e).length>0,s=l?e.tile:"unseen",u=["cell","cell-"+s,"cell-"+o+"-"+t];l&&(e.meta.visible===!1&&u.push("cell-hidden"),void 0!==i[t]&&void 0!==i[t][o]&&(a=i[t][o]));var c=m(u.join(" "),a),f=N<=o&&o<=E;if(f&&r){u.push("map-view-cell");var d=void 0;l&&u.push("ordinal-"+e.meta.ordinals),d=a!==!1&&(0,h["default"])(a);var p=y(u.join(" "),d);n.push(p)}return c});return r&&x.push(v("map-view-row cell-row cell-row-"+t,n)),g("simple cell-row cell-row-"+t,o)});return[x,q]}},{key:"render",value:function(){var e=this.props.model,t=!1,n=!1;if(this.state.domLoaded){var r=this.getMap(e.get("tileLayer"),e.get("entityLayer"),e.get("tileSet"),e.get("entitySet")),o=l(r,2);t=o[0],n=o[1],this.props.miniMap.set(n)}return w(b(t))}}]),t}(d["default"]);t["default"]=x},function(e,t,n){"use strict";e.exports=n(7)},function(e,t,n){var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
	 * inferno-component v0.7.27
	 * (c) 2016 Dominic Gannaway
	 * Released under the MIT License.
	 */
!function(a,l){"object"===i(t)&&"undefined"!=typeof e?e.exports=l():(r=l,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o)))}(void 0,function(){"use strict";function e(e){return n(e)||t(e)}function t(e){return null===e}function n(e){return void 0===e}function r(){this.placeholder=!0,this.dom=null}function o(){return new r}function i(e,t,n){e.split(",").forEach(function(e){return t[e]=n})}function a(){this._listeners=[],this.scrollX=null,this.scrollY=null,this.screenHeight=b,this.screenWidth=_}function l(){return document.activeElement}function s(e){e!==document.body&&document.activeElement!==e&&e.focus()}function u(e,t,n){for(var r in t)e._pendingState[r]=t[r];e._pendingSetState?(e.state=Object.assign({},e.state,e._pendingState),e._pendingState={}):(e._pendingSetState=!0,c(e,!1,n))}function c(t,n,r){if((!t._deferSetState||n)&&!t._blockRender){t._pendingSetState=!1;var i=t._pendingState,u=t.state,c=Object.assign({},u,i),d=t.props;t._pendingState={};var p=t._updateComponent(u,c,d,d,n);p===f?p=t._lastNode:e(p)&&(p=o());var h=t._lastNode,m=h.dom.parentNode,y=l(),v=new a;t._patch(h,p,m,v,t.context,t,null),t._lastNode=p,t._componentToDOMNodeMap.set(t,p.dom),t._parentNode.dom=p.dom,t.componentDidUpdate(d,u),v.trigger(),e(r)||r(),s(y)}}var f="NO_RENDER",d="undefined"!=typeof window&&window.document,p=(d?document.body:null,"http://www.w3.org/1999/xlink"),h="http://www.w3.org/XML/1998/namespace",m={},y={},v={},g={};i("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",v,p),i("xml:base,xml:lang,xml:space",v,h),i("volume,value",m,!0),i("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",y,!0),i("animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,",g,!0);var _=d&&window.screen.width,b=d&&window.screen.height,w=0,x=0,k=0;d&&(window.onscroll=function(){w=window.scrollX,x=window.scrollY,k=performance.now()},window.resize=function(){w=window.scrollX,x=window.scrollY,_=window.screen.width,b=window.screen.height,k=performance.now()}),a.prototype={refresh:function(){this.scrollX=d&&window.scrollX,this.scrollY=d&&window.scrollY},addListener:function(e){this._listeners.push(e)},trigger:function(){for(var e=this,t=0;t<this._listeners.length;t++)e._listeners[t]()}};var S="Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.",j=function(e,t){void 0===t&&(t={}),this.props=e||{},this.state={},this.refs={},this._blockRender=!1,this._blockSetState=!1,this._deferSetState=!1,this._pendingSetState=!1,this._pendingState={},this._parentNode=null,this._lastNode=null,this._unmounted=!0,this.context=t,this._patch=null,this._parentComponent=null,this._componentToDOMNodeMap=null};return j.prototype.render=function(){},j.prototype.forceUpdate=function(e){if(this._unmounted)throw Error(S);c(this,!0,e)},j.prototype.setState=function(e,t){if(this._unmounted)throw Error(S);if(this._blockSetState!==!1)throw Error("Inferno Warning: Cannot update state via setState() in componentWillUpdate()");u(this,e,t)},j.prototype.componentDidMount=function(){},j.prototype.componentWillMount=function(){},j.prototype.componentWillUnmount=function(){},j.prototype.componentDidUpdate=function(){},j.prototype.shouldComponentUpdate=function(){return!0},j.prototype.componentWillReceiveProps=function(){},j.prototype.componentWillUpdate=function(){},j.prototype.getChildContext=function(){},j.prototype._updateComponent=function(t,n,r,o,i){if(this._unmounted===!0)return this._unmounted=!1,!1;if(!e(o)&&e(o.children)&&(o.children=r.children),r!==o||t!==n||i){r!==o&&(this._blockRender=!0,this.componentWillReceiveProps(o),this._blockRender=!1,this._pendingSetState&&(n=Object.assign({},n,this._pendingState),this._pendingSetState=!1,this._pendingState={}));var a=this.shouldComponentUpdate(o,n);if(a!==!1||i)return this._blockSetState=!0,this.componentWillUpdate(o,n),this._blockSetState=!1,this.props=o,this.state=n,this.render()}return f},j})},function(e,t,n){(function(e,n){"use strict";function r(e,t){return e.set(t[0],t[1]),e}function o(e,t){return e.add(t),e}function i(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function l(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function s(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function u(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function d(e,t){return function(n){return e(t(n))}}function p(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function h(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function m(){this.__data__=Lt?Lt(null):{}}function y(e){return this.has(e)&&delete this.__data__[e]}function v(e){var t=this.__data__;if(Lt){var n=t[e];return n===Ae?void 0:n}return xt.call(t,e)?t[e]:void 0}function g(e){var t=this.__data__;return Lt?void 0!==t[e]:xt.call(t,e)}function _(e,t){var n=this.__data__;return n[e]=Lt&&void 0===t?Ae:t,this}function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(){this.__data__=[]}function x(e){var t=this.__data__,n=L(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Mt.call(t,n,1),!0}function k(e){var t=this.__data__,n=L(t,e);return n<0?void 0:t[n][1]}function S(e){return L(this.__data__,e)>-1}function j(e,t){var n=this.__data__,r=L(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(){this.__data__={hash:new h,map:new(Ht||b),string:new h}}function N(e){return ae(this,e)["delete"](e)}function E(e){return ae(this,e).get(e)}function A(e){return ae(this,e).has(e)}function M(e,t){return ae(this,e).set(e,t),this}function T(e){this.__data__=new b(e)}function D(){this.__data__=new b}function q(e){return this.__data__["delete"](e)}function R(e){return this.__data__.get(e)}function H(e){return this.__data__.has(e)}function P(e,t){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!Ht||r.length<Ee-1)return r.push([e,t]),this;n=this.__data__=new C(r)}return n.set(e,t),this}function U(e,t){var n=$t(e)||ge(e)?s(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!xt.call(e,i)||o&&("length"==i||fe(i,r))||n.push(i);return n}function W(e,t,n){var r=e[t];xt.call(e,t)&&ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function L(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1}function I(e,t){return e&&re(t,je(t),e)}function B(e,t,n,r,o,a,l){var s;if(r&&(s=a?r(e,o,a,l):r(e)),void 0!==s)return s;if(!ke(e))return e;var u=$t(e);if(u){if(s=se(e),!t)return ne(e,s)}else{var f=Yt(e),d=f==Pe||f==Ue;if(Jt(e))return K(e,t);if(f==Ie||f==Te||d&&!a){if(c(e))return a?e:{};if(s=ue(d?{}:e),!t)return oe(e,I(s,e))}else{if(!ut[f])return a?e:{};s=ce(e,f,B,t)}}l||(l=new T);var p=l.get(e);if(p)return p;if(l.set(e,s),!u)var h=n?ie(e):je(e);return i(h||e,function(o,i){h&&(i=o,o=e[i]),W(s,i,B(o,t,n,r,i,e,l))}),s}function F(e){return ke(e)?Et(e):{}}function z(e,t,n){var r=t(e);return $t(e)?r:a(r,n(e))}function V(e){return kt.call(e)}function X(e){if(!ke(e)||pe(e))return!1;var t=we(e)||c(e)?St:lt;return t.test(me(e))}function G(e){if(!he(e))return qt(e);var t=[];for(var n in Object(e))xt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function K(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Y(e){var t=new e.constructor(e.byteLength);return new Ot(t).set(new Ot(e)),t}function $(e,t){var n=t?Y(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function J(e,t,n){var o=t?n(f(e),!0):f(e);return l(o,r,new e.constructor)}function Q(e){var t=new e.constructor(e.source,at.exec(e));return t.lastIndex=e.lastIndex,t}function Z(e,t,n){var r=t?n(p(e),!0):p(e);return l(r,o,new e.constructor)}function ee(e){return Gt?Object(Gt.call(e)):{}}function te(e,t){var n=t?Y(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ne(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function re(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;W(n,a,void 0===l?e[a]:l)}return n}function oe(e,t){return re(e,Kt(e),t)}function ie(e){return z(e,je,Kt)}function ae(e,t){var n=e.__data__;return de(t)?n["string"==typeof t?"string":"hash"]:n.map}function le(e,t){var n=u(e,t);return X(n)?n:void 0}function se(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&xt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ue(e){return"function"!=typeof e.constructor||he(e)?{}:F(Nt(e))}function ce(e,t,n,r){var o=e.constructor;switch(t){case Ke:return Y(e);case qe:case Re:return new o((+e));case Ye:return $(e,r);case $e:case Je:case Qe:case Ze:case et:case tt:case nt:case rt:case ot:return te(e,r);case We:return J(e,r,n);case Le:case Ve:return new o(e);case Fe:return Q(e);case ze:return Z(e,r,n);case Xe:return ee(e)}}function fe(e,t){return t=null==t?Me:t,!!t&&("number"==typeof e||st.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t="undefined"==typeof e?"undefined":Ne(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!bt&&bt in e}function he(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||gt;return e===n}function me(e){if(null!=e){try{return wt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ye(e){return B(e,!0,!0)}function ve(e,t){return e===t||e!==e&&t!==t}function ge(e){return be(e)&&xt.call(e,"callee")&&(!At.call(e,"callee")||kt.call(e)==Te)}function _e(e){return null!=e&&xe(e.length)&&!we(e)}function be(e){return Se(e)&&_e(e)}function we(e){var t=ke(e)?kt.call(e):"";return t==Pe||t==Ue}function xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Me}function ke(e){var t="undefined"==typeof e?"undefined":Ne(e);return!!e&&("object"==t||"function"==t)}function Se(e){return!!e&&"object"==("undefined"==typeof e?"undefined":Ne(e))}function je(e){return _e(e)?U(e):G(e)}function Ce(){return[]}function Oe(){return!1}var Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee=200,Ae="__lodash_hash_undefined__",Me=9007199254740991,Te="[object Arguments]",De="[object Array]",qe="[object Boolean]",Re="[object Date]",He="[object Error]",Pe="[object Function]",Ue="[object GeneratorFunction]",We="[object Map]",Le="[object Number]",Ie="[object Object]",Be="[object Promise]",Fe="[object RegExp]",ze="[object Set]",Ve="[object String]",Xe="[object Symbol]",Ge="[object WeakMap]",Ke="[object ArrayBuffer]",Ye="[object DataView]",$e="[object Float32Array]",Je="[object Float64Array]",Qe="[object Int8Array]",Ze="[object Int16Array]",et="[object Int32Array]",tt="[object Uint8Array]",nt="[object Uint8ClampedArray]",rt="[object Uint16Array]",ot="[object Uint32Array]",it=/[\\^$.*+?()[\]{}|]/g,at=/\w*$/,lt=/^\[object .+?Constructor\]$/,st=/^(?:0|[1-9]\d*)$/,ut={};ut[Te]=ut[De]=ut[Ke]=ut[Ye]=ut[qe]=ut[Re]=ut[$e]=ut[Je]=ut[Qe]=ut[Ze]=ut[et]=ut[We]=ut[Le]=ut[Ie]=ut[Fe]=ut[ze]=ut[Ve]=ut[Xe]=ut[tt]=ut[nt]=ut[rt]=ut[ot]=!0,ut[He]=ut[Pe]=ut[Ge]=!1;var ct="object"==("undefined"==typeof e?"undefined":Ne(e))&&e&&e.Object===Object&&e,ft="object"==("undefined"==typeof self?"undefined":Ne(self))&&self&&self.Object===Object&&self,dt=ct||ft||Function("return this")(),pt="object"==Ne(t)&&t&&!t.nodeType&&t,ht=pt&&"object"==Ne(n)&&n&&!n.nodeType&&n,mt=ht&&ht.exports===pt,yt=Array.prototype,vt=Function.prototype,gt=Object.prototype,_t=dt["__core-js_shared__"],bt=function(){var e=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wt=vt.toString,xt=gt.hasOwnProperty,kt=gt.toString,St=RegExp("^"+wt.call(xt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=mt?dt.Buffer:void 0,Ct=dt.Symbol,Ot=dt.Uint8Array,Nt=d(Object.getPrototypeOf,Object),Et=Object.create,At=gt.propertyIsEnumerable,Mt=yt.splice,Tt=Object.getOwnPropertySymbols,Dt=jt?jt.isBuffer:void 0,qt=d(Object.keys,Object),Rt=le(dt,"DataView"),Ht=le(dt,"Map"),Pt=le(dt,"Promise"),Ut=le(dt,"Set"),Wt=le(dt,"WeakMap"),Lt=le(Object,"create"),It=me(Rt),Bt=me(Ht),Ft=me(Pt),zt=me(Ut),Vt=me(Wt),Xt=Ct?Ct.prototype:void 0,Gt=Xt?Xt.valueOf:void 0;h.prototype.clear=m,h.prototype["delete"]=y,h.prototype.get=v,h.prototype.has=g,h.prototype.set=_,b.prototype.clear=w,b.prototype["delete"]=x,b.prototype.get=k,b.prototype.has=S,b.prototype.set=j,C.prototype.clear=O,C.prototype["delete"]=N,C.prototype.get=E,C.prototype.has=A,C.prototype.set=M,T.prototype.clear=D,T.prototype["delete"]=q,T.prototype.get=R,T.prototype.has=H,T.prototype.set=P;var Kt=Tt?d(Tt,Object):Ce,Yt=V;(Rt&&Yt(new Rt(new ArrayBuffer(1)))!=Ye||Ht&&Yt(new Ht)!=We||Pt&&Yt(Pt.resolve())!=Be||Ut&&Yt(new Ut)!=ze||Wt&&Yt(new Wt)!=Ge)&&(Yt=function(e){var t=kt.call(e),n=t==Ie?e.constructor:void 0,r=n?me(n):void 0;if(r)switch(r){case It:return Ye;case Bt:return We;case Ft:return Be;case zt:return ze;case Vt:return Ge}return t});var $t=Array.isArray,Jt=Dt||Oe;n.exports=ye}).call(t,function(){return this}(),n(9)(e))},function(e,t){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(6),f=r(c),d=u["default"].createBlueprint({tag:"p",children:{arg:0}}),p=u["default"].createBlueprint({tag:"p",children:{arg:0}}),h=u["default"].createBlueprint({tag:"div",className:"dungeon-mini-map",children:{arg:0}}),m=u["default"].createBlueprint({tag:"img",className:"testing-image",attrs:{src:"/static/img/habitats/flat-bambooforest.jpg"}}),y=u["default"].createBlueprint({tag:"div",className:"dungeon-info-wrapper",children:{arg:0}}),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.miniMap.bindComponent(this)}},{key:"render",value:function(){return y([m(),h(this.props.miniMap.get()),p(["This place is truly beautiful. You look around and revel in the beauty that surrounds you.You become one with the beauty. The beauty conquers all ",this.props.triggerUpdate?"true":"false","."]),d("You found a pile of rocks.")])}}]),t}(f["default"]);t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(6),f=r(c),d=u["default"].createBlueprint({tag:"button",events:{arg:0},children:{arg:1}}),p=u["default"].createBlueprint({tag:"button",events:{arg:0},children:{arg:1}}),h=u["default"].createBlueprint({tag:"br"}),m=u["default"].createBlueprint({tag:"p",children:{arg:0}}),y=u["default"].createBlueprint({tag:"div",className:"dungeon-debug-tools",children:{arg:0}}),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),l(t,[{key:"render",value:function(){return y([m("IT'S DEBUGGING TIME, BABY")," ",h(),p({onclick:this.props.regenerate},"Regenerate Dungeon"),d({onclick:this.props.reveal},"Reveal Dungeon")])}}]),t}(f["default"]);t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(13),l=r(a),s=function(){function e(){o(this,e),this.state={component:void 0,initialized:!1,lock:!1,model:this.defaults()}}return i(e,[{key:"defaults",value:function(){return{tileSet:[],entitySet:[],tileLayer:[],entityLayer:[]}}},{key:"bindComponent",value:function(e){this.state.component=e}},{key:"_debug_regenerate",value:function(e){return e===!0?this._debug_regenerate.bind(this):void this.fetch({},{regenerate:!0})}},{key:"_debug_reveal",value:function(e){return e===!0?this._debug_reveal.bind(this):void this.fetch({},{reveal:!0})}},{key:"fetch",value:function(e,t){var n=this;if(e=e?e:{},t=t?t:{},this.state.lock===!0)return!1;this.state.lock=!0;var r=(0,l["default"])({url:"/api/explore/get/",type:"json",method:"post",data:{initial:!this.state.initialized,mutation:JSON.stringify(e),debug:JSON.stringify(t)},error:function(e){console.error('Error syncing with Dungeon API": '+e)},success:function(e){n.state.initialized===!1?(n.state.model=e,n.state.initialized=!0):n.state.model=n.mergeDiff(e,t)}});return r.always(function(e){if(n.state.lock=!1,n.state.initialized&&void 0!==n.state.component){var t=void 0==n.state.component.triggerUpdate||!n.state.component.triggerUpdate;n.state.component.setState({triggerUpdate:t})}}),r}},{key:"get",value:function(e){return this.state.model[e]}},{key:"mergeDiff",value:function(e,t){var n=this;if(void 0!==t.reveal||void 0!==t.regenerate)return e;var r=this.state.model;return r.entitySet.concat(e.entitySet),r.tileSet.concat(e.tileSet),r.entityLayer=r.entityLayer.map(function(t){var n=e.entityLayer.filter(function(e){return e.id===t.id})[0];return n?n:t}),e.tileLayer.map(function(e,t){e.map(function(e,o){0!==Object.keys(e).length?r.tileLayer[t][o]=e:Object.keys(n.state.model.tileLayer[t][o]).length>0&&(r.tileLayer[t][o].meta.visible=!1)})}),r}},{key:"mutate",value:function(e){this.fetch(e)}}]),e}();t["default"]=s},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
	  * Reqwest! A general purpose XHR connection manager
	  * license MIT (c) Dustin Diaz 2015
	  * https://github.com/ded/reqwest
	  */
!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():(__WEBPACK_AMD_DEFINE_FACTORY__=n,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("reqwest",void 0,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;!t.crossOrigin&&!r[requestedWith]&&(r[requestedWith]=defaultHeaders.requestedWith),!r[contentType]&&!o&&(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,i=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),l=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),s=r.match(l),u=doc.createElement("script"),c=0,f=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return s?"?"===s[3]?r=r.replace(l,"$1="+a):a=s[3]:r=urlappend(r,i+"="+a),context[a]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,"undefined"!=typeof u.onreadystatechange&&!f&&(u.htmlFor=u.id="_reqwest_"+o),u.onload=u.onreadystatechange=function(){return!(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||c)&&(u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),c=1,void 0)},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),c=1}}}function getRequest(e,t){var n,r=this.o,o=(r.method||"GET").toUpperCase(),i="string"==typeof r?r:r.url,a=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,l=!1;return("jsonp"==r.type||"GET"==o)&&a&&(i=urlappend(i,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,i):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(o,i,r.async!==!1),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},l=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),l?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,o,i,a=e.name,l=e.tagName.toLowerCase(),s=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(l){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),o=e.value,(!n&&!r||e.checked)&&t(a,normalize(n&&""===o?"on":o)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())s(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(i=0;e.length&&i<e.length;i++)e.options[i].selected&&s(e.options[i])}}function eachFormElement(){var e,t,n=this,r=function o(e,t){var o,r,i;for(o=0;o<t.length;o++)for(i=e[byTag](t[o]),r=0;r<i.length;r++)serial(i[r],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var o,i,a,l=/\[\]$/;if(isArray(t))for(i=0;t&&i<t.length;i++)a=t[i],n||l.test(e)?r(e,a):buildParams(e+"["+("object"==("undefined"==typeof a?"undefined":_typeof(a))?i:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=!1}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,i=[],a=encodeURIComponent,l=function(e,t){t="function"==typeof t?t():null==t?"":t,i[i.length]=a(e)+"="+a(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)l(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,l);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this.state={map:!1}}return r(e,[{key:"bindComponent",value:function(e){this.state.component=e}},{key:"get",value:function(){return this.state.map}},{key:"set",value:function(e){if(this.state.map=e,void 0!==this.state.component){var t=void 0==this.state.component.triggerUpdate||!this.state.component.triggerUpdate;this.state.component.setState({triggerUpdate:t})}}}]),e}();t["default"]=o}]);