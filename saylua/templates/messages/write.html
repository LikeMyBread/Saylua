{% extends "layout.html" %}
{% set page_title = "Write a New Message" %}
{% block body %}
<h2>Writing a New Message</h2>
<p class="center full padded">
  <a href="/messages/"><img src="/static/img/icons/arrow_left.png"> Back to Your Inbox</a>
</p>
<form method="post" class="validated-form" data-error-id="message-post-error">
  <table class="form-table full padded">
    <tr>
      <td colspan="2" id="message-post-error"></td>
    </tr>
    <tr>
      <th class="label">
        <label for="message-post-recipient">Recipient</label>
      </th>
      <td>
        <input placeholder="Recipient's Username" id="message-post-recipient"
          data-validators="required min:{{config['MIN_USERNAME_LENGTH']}} max:{{config['MAX_USERNAME_LENGTH']}} username_chars"
          value="{{ recipient }}" name="recipient" />
        <small class="form-tip">Enter the username for the message recipient</small>
      </td>
    </tr>
    <tr>
      <th class="label">
        <label for="message-post-title">Message Title</label>
      </th>
      <td>
        <input placeholder="Message Title" id="message-post-title"
          data-validators="required min:2" value="{{ title }}" name="title" />
      </td>
    </tr>
    <tr>
      <th class="label">
        <label for="message-post-body">Message Body</label>
      </th>
      <td>
        <textarea placeholder="Type the body for your message here" id="message-post-body"
          data-validators="required min:2" name="text">{{ text }}</textarea>
      </td>
    </tr>
    <tr>
      <td></td>
      <td>
        <input type="submit" class="small" value="Send Message" name="post">
        <input type="submit" class="small" value="Preview Message" name="preview">
      </td>
    </tr>
  </table>
</form>

{% endblock %}
